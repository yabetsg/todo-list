(()=>{"use strict";const e=()=>({addButton:document.querySelector(".addButton"),cancelButton:document.querySelectorAll(".cancelButton"),addProjectButton:document.querySelector(".addProjectButton"),addTaskButton:document.querySelector(".addTaskButton"),projectFormContainer:document.querySelector(".projectFormContainer"),todoFormContainer:document.querySelector(".todoFormContainer"),projectList:document.querySelector(".projectList"),projectForm:document.querySelector(".projectForm"),todoForm:document.querySelector(".todoForm"),projectNameInput:document.querySelector(".projectNameInput"),todoTaskInput:document.querySelector(".todoTaskInput"),taskList:document.querySelector(".tasks"),allTaskLists:document.querySelector(".todoTitle"),projectNameContainer:document.querySelector(".projectNameContainer"),mainTitle:document.querySelector(".mainTitle"),inbox:document.getElementById("inbox"),dueDate:document.getElementById("date"),checkIcon:document.getElementsByTagName("p"),deleteButton:document.createElement("button")}),t=e().todoFormContainer,n=e().todoTaskInput,o=e().taskList,a=e().mainTitle,c=e().dueDate,d=new class{constructor(){this.count=0}createTask(){for(let e=0;e<T.length;e++){const t=T[e],d=(C[e],document.createElement("button")),s=document.createElement("input"),r=document.createElement("span"),i=document.createElement("div"),l=document.createElement("div"),u=(document.createElement("i"),document.createElement("p")),m=document.createElement("button");s.type="date",s.classList.add("dateInput"),i.classList.add("leftSide"),l.classList.add("rightSide"),m.classList.add("fa"),m.classList.add("fa-trash"),r.classList.add("taskDueDate");let p=c.value;d.classList.add("todoTitle");const h=n.value;t.title===a.innerText&&(t[`task${this.count}`]=h,""===p&&(p="No Due Date"),t[`date${this.count}`]=p,u.innerText=t[`task${this.count}`],r.innerText=t[`date${this.count}`],i.appendChild(u),l.appendChild(r),l.appendChild(m),d.appendChild(i),d.appendChild(l),o.appendChild(d),this.count++)}t.classList.remove("active"),n.value=""}removeTasks(){for(;o.firstChild;)o.removeChild(o.firstChild)}},s=e().addProjectButton,r=e().projectFormContainer,i=e().addTaskButton,l=e().todoFormContainer,u=e().todoForm,m=e().projectForm,p=e().projectList,h=e().projectNameInput,L=e().taskList,v=e().mainTitle,k=e().cancelButton,E=e().inbox,T=(e().checkIcon,e().todoTaskInput,e().allTaskLists,[]);T.push({title:"Inbox"}),s.addEventListener("click",(()=>{l.classList.remove("active"),r.classList.add("active")})),i.addEventListener("click",(()=>{r.classList.remove("active"),l.classList.add("active")}));const C=[],f=(m.addEventListener("submit",(e=>{d.count=0;const t=document.createElement("button");t.classList.add("projectNameContainer");const n=document.createElement("i"),o=document.createElement("span"),a=h.value;o.innerText=a,t.appendChild(n),t.appendChild(o),p.appendChild(t),T.push({title:a}),r.classList.remove("active"),h.value="",t.classList.contains("projectNameContainer")&&t.addEventListener("click",(e=>{d.removeTasks(),console.log("storage after d:"+JSON.stringify(T));const t=e.target.innerText;v.innerText=t;for(let e=0;e<T.length;e++){const t=T[e];if(t.title===v.innerText){const e=Object.keys(t);for(let n=0;n<e.length;n++)if(null!=t[`task${n}`]){const e=document.createElement("button"),o=document.createElement("span"),a=document.createElement("p"),c=document.createElement("div"),d=document.createElement("div"),s=document.createElement("button");s.classList.add("fa"),s.classList.add("fa-trash"),c.classList.add("leftSide"),d.classList.add("rightSide"),e.classList.add("todoTitle"),o.classList.add("taskDueDate"),a.innerText=t[`task${n}`],o.innerText=t[`date${n}`],c.appendChild(a),d.appendChild(o),d.appendChild(s),e.appendChild(c),e.appendChild(d),L.appendChild(e)}}}f()}))})),()=>{const e=document.querySelectorAll(".fa-trash");if(e[0]){let t,n;e.forEach((e=>{t=e})),t.parentNode,e&&e.forEach((e=>{e.addEventListener("click",(t=>{console.log(e),n=e.parentNode.parentNode,n.remove();for(let e=0;e<T.length;e++){const t=T[e];for(const e in t)t[e]===n.firstChild.textContent&&(console.log(`date${e.split("")[4]}`),delete t[e],delete t[`date${e.split("")[4]}`])}}))}))}});u.addEventListener("submit",(()=>{d.createTask(),f()})),k.forEach((e=>{e.addEventListener("click",(()=>{r.classList.remove("active"),l.classList.remove("active")}))})),E.addEventListener("click",(e=>{d.removeTasks(),v.innerText="inbox";const t=e.target.innerText;v.innerText=t;for(let e=0;e<T.length;e++){const t=T[e];if(null!=t){const e=Object.keys(t);for(let n=0;n<e.length;n++)if(null!=t[`date${n}`]){const e=document.createElement("button"),o=document.createElement("span"),a=document.createElement("p");e.classList.add("todoTitle"),o.classList.add("taskDueDate"),a.innerText=t[`task${n}`],o.innerText=t[`date${n}`],e.appendChild(a),e.appendChild(o),L.appendChild(e)}}}}));const y=new Event("click");E.dispatchEvent(y)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FDakNVLEVBQU9RLFVBQVVDLElBQUksYUFDckJOLEVBQUtLLFVBQVVDLElBQUksZUFDbkJILEVBQUVRLFVBQVlmLEVBQVEsT0FBT3VDLEtBQzdCbkMsRUFBS1csVUFBWWYsRUFBUSxPQUFPdUMsS0FDaEN0QyxFQUFPZSxZQUFZVCxHQUNuQk4sRUFBT2UsWUFBWVosR0FDbkIsRUFBU1ksWUFBWWYsRUFDdkIsQ0FFSixDQUNGLEtBR0YsTUFBTSxFQUFRLElBQUlnRCxNQUFNLFNBQ3hCaEUsRUFBTWlFLGNBQWMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9ET00uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2V2ZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgYWRkQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZEJ1dHRvblwiKSxcbiAgICBjYW5jZWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FuY2VsQnV0dG9uXCIpLFxuICAgIGFkZFByb2plY3RCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkUHJvamVjdEJ1dHRvblwiKSxcbiAgICBhZGRUYXNrQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tCdXR0b25cIiksXG4gICAgcHJvamVjdEZvcm1Db250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybUNvbnRhaW5lcicpLFxuICAgIHRvZG9Gb3JtQ29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb0Zvcm1Db250YWluZXInKSxcbiAgICBwcm9qZWN0TGlzdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RMaXN0JyksXG4gICAgcHJvamVjdEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Rm9ybScpLFxuICAgIHRvZG9Gb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb0Zvcm0nKSxcbiAgICBwcm9qZWN0TmFtZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdE5hbWVJbnB1dCcpLFxuICAgIHRvZG9UYXNrSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvVGFza0lucHV0JyksXG4gICAgdGFza0xpc3Q6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpLFxuICAgIGFsbFRhc2tMaXN0czogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9UaXRsZScpLFxuICAgIHByb2plY3ROYW1lQ29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdE5hbWVDb250YWluZXInKSxcbiAgICBtYWluVGl0bGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluVGl0bGUnKSxcbiAgICBpbmJveDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luYm94JyksXG4gICAgZHVlRGF0ZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGUnKSxcbiAgICBjaGVja0ljb246IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwJyksXG4gICAgZGVsZXRlQnV0dG9uOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKVxuICB9O1xufTtcbiIsImltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gXCIuL0RPTVwiO1xuaW1wb3J0IHsgc3RvcmFnZSAsIGluYm94U3RvcmFnZX0gZnJvbSBcIi4vZXZlbnRcIjtcblxuXG5cbmNvbnN0IHRvZG9Gb3JtQ29udGFpbmVyID0gc2VsZWN0b3JzKCkudG9kb0Zvcm1Db250YWluZXI7XG5jb25zdCB0b2RvVGFza0lucHV0ID0gc2VsZWN0b3JzKCkudG9kb1Rhc2tJbnB1dDtcbmNvbnN0IHRhc2tMaXN0ID0gc2VsZWN0b3JzKCkudGFza0xpc3Q7XG5jb25zdCBtYWluVGl0bGUgPSBzZWxlY3RvcnMoKS5tYWluVGl0bGU7XG5jb25zdCBkdWVEYXRlID0gc2VsZWN0b3JzKCkuZHVlRGF0ZTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY291bnQgPSAwO1xuICB9XG4gIFxuICBjcmVhdGVUYXNrKCkge1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgXG4gICAgICBjb25zdCBlbGVtZW50ID0gc3RvcmFnZVtpXTtcbiAgICAgIGNvbnN0IGluYm94RWxlbWVudCA9IGluYm94U3RvcmFnZVtpXTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgY29uc3QgbGVmdFNpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHJpZ2h0U2lkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGRhdGUudHlwZSA9ICdkYXRlJztcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnZGF0ZUlucHV0Jyk7XG4gICAgICBsZWZ0U2lkZS5jbGFzc0xpc3QuYWRkKCdsZWZ0U2lkZScpO1xuICAgICAgcmlnaHRTaWRlLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0U2lkZScpO1xuICAgICAgXG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnZmEnKTtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdmYS10cmFzaCcpO1xuICAgICAgXG4gICAgICBcbiAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGFza0R1ZURhdGUnKTtcbiAgICAgIGxldCBkYXRlVmFsdWUgPSBkdWVEYXRlLnZhbHVlO1xuICAgIFxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RvZG9UaXRsZScpO1xuICAgICAgY29uc3QgdGFza05hbWUgPSB0b2RvVGFza0lucHV0LnZhbHVlO1xuICAgICAgXG4gICAgICBpZiAoZWxlbWVudC50aXRsZSA9PT0gbWFpblRpdGxlLmlubmVyVGV4dCkge1xuICAgICAgICBlbGVtZW50W2B0YXNrJHt0aGlzLmNvdW50fWBdID0gdGFza05hbWU7XG4gICAgICAgXG4gICAgICAgXG4gICAgICAgIGlmKGRhdGVWYWx1ZT09PScnKXtcbiAgICAgICAgICBkYXRlVmFsdWUgPSAnTm8gRHVlIERhdGUnO1xuICAgICAgICB9IFxuICAgICAgICBcbiAgICAgICAgZWxlbWVudFtgZGF0ZSR7dGhpcy5jb3VudH1gXSA9IGRhdGVWYWx1ZTtcbiAgICAgICAgcC5pbm5lclRleHQgPSBlbGVtZW50W2B0YXNrJHt0aGlzLmNvdW50fWBdO1xuICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGVsZW1lbnRbYGRhdGUke3RoaXMuY291bnR9YF07XG4gICAgICAvLyAgZGl2LmFwcGVuZENoaWxkKGljb24pO1xuICAgICAgICBsZWZ0U2lkZS5hcHBlbmRDaGlsZChwKTtcbiAgICAgICAgcmlnaHRTaWRlLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICByaWdodFNpZGUuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKGxlZnRTaWRlKTtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHJpZ2h0U2lkZSk7XG4gICAgICAgIHRhc2tMaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIFxuICAgICAgIFxuICAgICAgICBcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB0b2RvVGFza0lucHV0LnZhbHVlID0gJyc7XG4gIH07XG5cbiAgcmVtb3ZlVGFza3MoKSB7XG4gICAgd2hpbGUgKHRhc2tMaXN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgc2VsZWN0b3JzIH0gZnJvbSBcIi4vRE9NXCI7XG5pbXBvcnQgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5cbmNvbnN0IHRhc2sgPSBuZXcgVGFzaygpO1xubGV0IGJvb2wgPSBmYWxzZTtcbi8vIFRPRE86IGZpeCBpc3N1ZSB3aGVyZSBjbGlja2luZyBkZWxldGUgb24gYSBkdXBsaWNhdGUgZHVlIGRhdGUgd291bGQgZGVsZXRlIGFsbCB0YXNrcyBhc29jaWF0ZWQgd2l0aCB0aGUgc2FtZSBkdWUgZGF0ZS5cblxuY29uc3QgcHJvamVjdEJ1dHRvbiA9IHNlbGVjdG9ycygpLmFkZFByb2plY3RCdXR0b247XG5jb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IHNlbGVjdG9ycygpLnByb2plY3RGb3JtQ29udGFpbmVyO1xuY29uc3QgYWRkVGFza0J1dHRvbiA9IHNlbGVjdG9ycygpLmFkZFRhc2tCdXR0b247XG5jb25zdCB0b2RvRm9ybUNvbnRhaW5lciA9IHNlbGVjdG9ycygpLnRvZG9Gb3JtQ29udGFpbmVyO1xuY29uc3QgdG9kb0Zvcm0gPSBzZWxlY3RvcnMoKS50b2RvRm9ybTtcbmNvbnN0IHByb2plY3RGb3JtID0gc2VsZWN0b3JzKCkucHJvamVjdEZvcm07XG5jb25zdCBwcm9qZWN0TGlzdCA9IHNlbGVjdG9ycygpLnByb2plY3RMaXN0O1xuY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IHNlbGVjdG9ycygpLnByb2plY3ROYW1lSW5wdXQ7XG5jb25zdCB0YXNrTGlzdCA9IHNlbGVjdG9ycygpLnRhc2tMaXN0O1xuY29uc3QgbWFpblRpdGxlID0gc2VsZWN0b3JzKCkubWFpblRpdGxlO1xuY29uc3QgY2FuY2VsQnV0dG9uID0gc2VsZWN0b3JzKCkuY2FuY2VsQnV0dG9uO1xuY29uc3QgaW5ib3ggPSBzZWxlY3RvcnMoKS5pbmJveDtcbmNvbnN0IGNsZWFyVGFzayA9IHNlbGVjdG9ycygpLmNoZWNrSWNvbjtcbmNvbnN0IHRvZG9UYXNrSW5wdXQgPSBzZWxlY3RvcnMoKS50b2RvVGFza0lucHV0O1xuY29uc3QgYWxsVGFza0xpc3RzID0gc2VsZWN0b3JzKCkuYWxsVGFza0xpc3RzO1xuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSBbXTtcbnN0b3JhZ2UucHVzaCh7IHRpdGxlOiBcIkluYm94XCIgfSk7XG5leHBvcnQgY29uc3QgYWRkUHJvamVjdEJ1dHRvbkV2ZW50ID0gKCgpID0+IHtcbiAgcHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHRvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgfSk7XG59KSgpO1xuXG5leHBvcnQgY29uc3QgYWRkVGFza0J1dHRvbkV2ZW50ID0gKCgpID0+IHtcbiAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgdG9kb0Zvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgfSk7XG59KSgpO1xuXG5leHBvcnQgY29uc3QgaW5ib3hTdG9yYWdlID0gW107XG5cbmV4cG9ydCBjb25zdCBwcm9qZWN0Rm9ybUV2ZW50ID0gKCgpID0+IHtcbiAgcHJvamVjdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgIHRhc2suY291bnQgPSAwO1xuICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZUNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgY29uc3QgdGl0bGVOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBwcm9qZWN0TmFtZUlucHV0LnZhbHVlO1xuXG4gICAgdGl0bGVOYW1lLmlubmVyVGV4dCA9IHByb2plY3ROYW1lO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpY29uKTtcbiAgICBidXR0b24uYXBwZW5kQ2hpbGQodGl0bGVOYW1lKTtcbiAgICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgIHN0b3JhZ2UucHVzaCh7IHRpdGxlOiBwcm9qZWN0TmFtZSB9KTtcbiAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIHByb2plY3ROYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicHJvamVjdE5hbWVDb250YWluZXJcIikpIHtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgdGFzay5yZW1vdmVUYXNrcygpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coXCJzdG9yYWdlIGFmdGVyIGQ6XCIrIEpTT04uc3RyaW5naWZ5KHN0b3JhZ2UpKTtcbiAgICAgICAgY29uc3QgY2xpY2tlZFByb2plY3RUaXRsZSA9IGUudGFyZ2V0LmlubmVyVGV4dDtcbiAgICAgICAgbWFpblRpdGxlLmlubmVyVGV4dCA9IGNsaWNrZWRQcm9qZWN0VGl0bGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzdG9yYWdlW2ldO1xuICAgICAgICAgIGlmIChlbGVtZW50LnRpdGxlID09PSBtYWluVGl0bGUuaW5uZXJUZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9iamVjdEtleXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbYHRhc2ske2p9YF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmlnaHRTaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2ZhJyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2ZhLXRyYXNoJyk7XG4gICAgICAgICAgICAgICAgbGVmdFNpZGUuY2xhc3NMaXN0LmFkZCgnbGVmdFNpZGUnKTtcbiAgICAgICAgICAgICAgICAgcmlnaHRTaWRlLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0U2lkZScpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwidG9kb1RpdGxlXCIpO1xuICAgICAgICAgICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZChcInRhc2tEdWVEYXRlXCIpO1xuICAgICAgICAgICAgICAgIHAuaW5uZXJUZXh0ID0gZWxlbWVudFtgdGFzayR7an1gXTtcbiAgICAgICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGVsZW1lbnRbYGRhdGUke2p9YF07XG4gICAgICAgICAgICAgICAgbGVmdFNpZGUuYXBwZW5kQ2hpbGQocCk7XG4gICAgICAgICAgICAgICAgcmlnaHRTaWRlLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgICAgIHJpZ2h0U2lkZS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChsZWZ0U2lkZSk7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHJpZ2h0U2lkZSk7XG4gICAgICAgICAgICAgICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWxldGVNZXRob2QoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuY29uc3QgZGVsZXRlTWV0aG9kID0gKCk9PntcbiAgICBjb25zdCBkZWxldGVUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mYS10cmFzaFwiKTtcbiAgICBcbiAgICBpZiAoZGVsZXRlVGFza1swXSkge1xuICAgICAgICBsZXQgcGFyZW50cztcbiAgICAgICAgZGVsZXRlVGFzay5mb3JFYWNoKChlbGVtZW50KT0+e1xuICAgICAgICBwYXJlbnRzID0gZWxlbWVudDtcbiAgICAgICAgIFxuICAgICAgfSk7XG4gICAgICBjb25zdCBncmFuZFBhcmVudCA9IHBhcmVudHMucGFyZW50Tm9kZTtcbiAgICAgICBsZXQgZ3JhbmRHcmFuZFBhcmVudDtcbiAgICAgIGlmIChkZWxldGVUYXNrKSB7XG4gICAgICAgXG4gICAgICAgIGRlbGV0ZVRhc2suZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50KTtcbiAgICAgICAgICAgIGdyYW5kR3JhbmRQYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGdyYW5kR3JhbmRQYXJlbnQucmVtb3ZlKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHN0b3JhZ2VbaV07XG4gICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFtrZXldID09PSBncmFuZEdyYW5kUGFyZW50LmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgKSB7XG4gICAgICBcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBkYXRlJHtrZXkuc3BsaXQoJycpWzRdfWApO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnRba2V5XTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50W2BkYXRlJHtrZXkuc3BsaXQoJycpWzRdfWBdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICB9KTsgICAgICAgXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdGFza0Zvcm1FdmVudCA9ICgoKSA9PiB7XG4gIHRvZG9Gb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xuICAgIHRhc2suY3JlYXRlVGFzaygpO1xuICAgIGRlbGV0ZU1ldGhvZCgpO1xuICB9KTtcbn0pKCk7XG5cbmNhbmNlbEJ1dHRvbi5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgIHRvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gIH0pO1xufSk7XG5cbmluYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICB0YXNrLnJlbW92ZVRhc2tzKCk7XG4gIG1haW5UaXRsZS5pbm5lclRleHQgPSBcImluYm94XCI7XG4gIGNvbnN0IGNsaWNrZWRQcm9qZWN0VGl0bGUgPSBlLnRhcmdldC5pbm5lclRleHQ7XG4gIG1haW5UaXRsZS5pbm5lclRleHQgPSBjbGlja2VkUHJvamVjdFRpdGxlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBlbGVtZW50ID0gc3RvcmFnZVtpXTtcbiAgICBpZiAoZWxlbWVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50KTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqZWN0S2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoZWxlbWVudFtgZGF0ZSR7an1gXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJ0b2RvVGl0bGVcIik7XG4gICAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwidGFza0R1ZURhdGVcIik7XG4gICAgICAgICAgcC5pbm5lclRleHQgPSBlbGVtZW50W2B0YXNrJHtqfWBdO1xuICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gZWxlbWVudFtgZGF0ZSR7an1gXTtcbiAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQocCk7XG4gICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgIHRhc2tMaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5jb25zdCBldmVudCA9IG5ldyBFdmVudChcImNsaWNrXCIpO1xuaW5ib3guZGlzcGF0Y2hFdmVudChldmVudCk7XG4iXSwibmFtZXMiOlsic2VsZWN0b3JzIiwiYWRkQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FuY2VsQnV0dG9uIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZFByb2plY3RCdXR0b24iLCJhZGRUYXNrQnV0dG9uIiwicHJvamVjdEZvcm1Db250YWluZXIiLCJ0b2RvRm9ybUNvbnRhaW5lciIsInByb2plY3RMaXN0IiwicHJvamVjdEZvcm0iLCJ0b2RvRm9ybSIsInByb2plY3ROYW1lSW5wdXQiLCJ0b2RvVGFza0lucHV0IiwidGFza0xpc3QiLCJhbGxUYXNrTGlzdHMiLCJwcm9qZWN0TmFtZUNvbnRhaW5lciIsIm1haW5UaXRsZSIsImluYm94IiwiZ2V0RWxlbWVudEJ5SWQiLCJkdWVEYXRlIiwiY2hlY2tJY29uIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJkZWxldGVCdXR0b24iLCJjcmVhdGVFbGVtZW50IiwidGFzayIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvdW50IiwiY3JlYXRlVGFzayIsImkiLCJzdG9yYWdlIiwibGVuZ3RoIiwiZWxlbWVudCIsImJ1dHRvbiIsImluYm94U3RvcmFnZSIsImRhdGUiLCJzcGFuIiwibGVmdFNpZGUiLCJyaWdodFNpZGUiLCJwIiwidHlwZSIsImNsYXNzTGlzdCIsImFkZCIsImRhdGVWYWx1ZSIsInZhbHVlIiwidGFza05hbWUiLCJ0aXRsZSIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwicmVtb3ZlIiwicmVtb3ZlVGFza3MiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwcm9qZWN0QnV0dG9uIiwicHVzaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkZWxldGVNZXRob2QiLCJlIiwiaWNvbiIsInRpdGxlTmFtZSIsInByb2plY3ROYW1lIiwiY29udGFpbnMiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImNsaWNrZWRQcm9qZWN0VGl0bGUiLCJ0YXJnZXQiLCJvYmplY3RLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImoiLCJ1bmRlZmluZWQiLCJkZWxldGVUYXNrIiwicGFyZW50cyIsImdyYW5kR3JhbmRQYXJlbnQiLCJmb3JFYWNoIiwicGFyZW50Tm9kZSIsImtleSIsInRleHRDb250ZW50Iiwic3BsaXQiLCJFdmVudCIsImRpc3BhdGNoRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9