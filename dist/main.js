(()=>{"use strict";const t=()=>({addButton:document.querySelector(".addButton"),cancelButton:document.querySelectorAll(".cancelButton"),addProjectButton:document.querySelector(".addProjectButton"),addTaskButton:document.querySelector(".addTaskButton"),projectFormContainer:document.querySelector(".projectFormContainer"),todoFormContainer:document.querySelector(".todoFormContainer"),projectList:document.querySelector(".projectList"),projectForm:document.querySelector(".projectForm"),todoForm:document.querySelector(".todoForm"),projectNameInput:document.querySelector(".projectNameInput"),todoTaskInput:document.querySelector(".todoTaskInput"),taskList:document.querySelector(".tasks"),allTaskLists:document.querySelector(".todoTitle"),projectNameContainer:document.querySelector(".projectNameContainer"),mainTitle:document.querySelector(".mainTitle"),inbox:document.getElementById("inbox")}),e=t().todoFormContainer,o=t().todoTaskInput,n=t().taskList,c=t().mainTitle,a=new class{constructor(){this.count=0}createTask(){for(let t=0;t<C.length;t++){const e=C[t],a=document.createElement("button");a.classList.add("todoTitle");const r=o.value;console.log(e.title),e.title===c.innerText&&(e[`task${this.count}`]=r,a.innerText=e[`task${this.count}`],j.push(e[`task${this.count}`]),n.appendChild(a),console.log(e),this.count++)}e.classList.remove("active"),o.value=""}removeTasks(){for(;n.firstChild;)n.removeChild(n.firstChild)}},r=t().addProjectButton,s=t().projectFormContainer,i=t().addTaskButton,d=t().todoFormContainer,l=t().todoForm,u=t().projectForm,m=t().projectList,p=t().projectNameInput,v=t().taskList,T=t().mainTitle,L=t().cancelButton,k=t().inbox,h=t().todoTaskInput,C=[],j=(r.addEventListener("click",(()=>{d.classList.remove("active"),s.classList.add("active")})),i.addEventListener("click",(()=>{s.classList.remove("active"),d.classList.add("active")})),[]);u.addEventListener("submit",(t=>{a.count=0;const e=document.createElement("button");e.classList.add("projectNameContainer");const o=document.createElement("i"),n=document.createElement("span"),c=p.value;n.innerText=c,e.appendChild(o),e.appendChild(n),m.appendChild(e),C.push({title:c}),s.classList.remove("active"),p.value="",e.classList.contains("projectNameContainer")&&e.addEventListener("click",(t=>{a.removeTasks();const e=t.target.innerText;T.innerText=e;for(let t=0;t<C.length;t++){const e=C[t];if(e.title===T.innerText){const t=Object.keys(e);for(let o=0;o<t.length;o++)if(null!=e[`task${o}`]){const t=document.createElement("button");t.classList.add("todoTitle"),t.innerText=e[`task${o}`],v.appendChild(t)}}}}))})),l.addEventListener("submit",(()=>{})),L.forEach((t=>{t.addEventListener("click",(()=>{s.classList.remove("active"),d.classList.remove("active")}))})),k.addEventListener("click",(t=>{a.removeTasks(),l.addEventListener("submit",(()=>{const e=document.createElement("button");e.classList.add("todoTitle"),h.value,console.log(t),e.innerText="todoTaskInput.value",v.appendChild(e)}));const e=t.target.innerText;T.innerText=e,document.createElement("button").classList.add("todoTitle");for(let t=0;t<j.length;t++){const e=j[t],o=document.createElement("button");o.innerText=e,o.classList.add("todoTitle"),v.appendChild(o)}console.log("Storage:"+j)}));const E=new Event("click");k.dispatchEvent(E)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxPQUFPaEIsVUFDckMsRUFBVUEsVUFBWWUsRUFDUHBELFNBQVM2QixjQUFjLFVBQy9CQyxVQUFVQyxJQUFJLGFBRXJCLElBQUssSUFBSVAsRUFBSSxFQUFHQSxFQUFJYyxFQUFhWixPQUFRRixJQUFLLENBQzFDLE1BQU1HLEVBQVVXLEVBQWFkLEdBQ3ZCSSxFQUFTNUIsU0FBUzZCLGNBQWMsVUFDdENELEVBQU9TLFVBQVlWLEVBQ25CQyxFQUFPRSxVQUFVQyxJQUFJLGFBQ3JCLEVBQVNTLFlBQVlaLEVBRXpCLENBRUFNLFFBQVFDLElBQUksV0FBWUcsRUFBYSxJQUs3QyxNQUFNLEVBQVEsSUFBSXVCLE1BQU0sU0FDeEI1QyxFQUFNNkMsY0FBYyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL0RPTS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZXZlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhZGRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkQnV0dG9uXCIpLFxuICAgIGNhbmNlbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYW5jZWxCdXR0b25cIiksXG4gICAgYWRkUHJvamVjdEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRQcm9qZWN0QnV0dG9uXCIpLFxuICAgIGFkZFRhc2tCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza0J1dHRvblwiKSxcbiAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtQ29udGFpbmVyJyksXG4gICAgdG9kb0Zvcm1Db250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvRm9ybUNvbnRhaW5lcicpLFxuICAgIHByb2plY3RMaXN0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdExpc3QnKSxcbiAgICBwcm9qZWN0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyksXG4gICAgdG9kb0Zvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvRm9ybScpLFxuICAgIHByb2plY3ROYW1lSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0TmFtZUlucHV0JyksXG4gICAgdG9kb1Rhc2tJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9UYXNrSW5wdXQnKSxcbiAgICB0YXNrTGlzdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tzJyksXG4gICAgYWxsVGFza0xpc3RzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb1RpdGxlJyksXG4gICAgcHJvamVjdE5hbWVDb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0TmFtZUNvbnRhaW5lcicpLFxuICAgIG1haW5UaXRsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5UaXRsZScpLFxuICAgIGluYm94OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gnKVxuICB9O1xufTtcbiIsImltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gXCIuL0RPTVwiO1xuaW1wb3J0IHsgc3RvcmFnZSAsIGluYm94U3RvcmFnZX0gZnJvbSBcIi4vZXZlbnRcIjtcblxuY29uc3QgdG9kb0Zvcm1Db250YWluZXIgPSBzZWxlY3RvcnMoKS50b2RvRm9ybUNvbnRhaW5lcjtcbmNvbnN0IHRvZG9UYXNrSW5wdXQgPSBzZWxlY3RvcnMoKS50b2RvVGFza0lucHV0O1xuY29uc3QgdGFza0xpc3QgPSBzZWxlY3RvcnMoKS50YXNrTGlzdDtcbmNvbnN0IG1haW5UaXRsZSA9IHNlbGVjdG9ycygpLm1haW5UaXRsZTtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cblxuICBjcmVhdGVUYXNrKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgXG4gICAgICBjb25zdCBlbGVtZW50ID0gc3RvcmFnZVtpXTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RvZG9UaXRsZScpO1xuICAgICAgY29uc3QgdGFza05hbWUgPSB0b2RvVGFza0lucHV0LnZhbHVlO1xuICAgICAgY29uc29sZS5sb2coZWxlbWVudC50aXRsZSk7XG4gICAgICBpZiAoZWxlbWVudC50aXRsZSA9PT0gbWFpblRpdGxlLmlubmVyVGV4dCkge1xuICAgIFxuICAgICAgICBlbGVtZW50W2B0YXNrJHt0aGlzLmNvdW50fWBdID0gdGFza05hbWU7XG5cbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGVsZW1lbnRbYHRhc2ske3RoaXMuY291bnR9YF07XG4gICAgICAgIGluYm94U3RvcmFnZS5wdXNoKGVsZW1lbnRbYHRhc2ske3RoaXMuY291bnR9YF0pO1xuICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50KTtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgfVxuICAgIH1cbiAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB0b2RvVGFza0lucHV0LnZhbHVlID0gJyc7XG4gIH07XG5cbiAgcmVtb3ZlVGFza3MoKSB7XG4gICAgd2hpbGUgKHRhc2tMaXN0LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRhc2tMaXN0LnJlbW92ZUNoaWxkKHRhc2tMaXN0LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgc2VsZWN0b3JzIH0gZnJvbSBcIi4vRE9NXCI7XG5pbXBvcnQgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5cblxuY29uc3QgdGFzayA9IG5ldyBUYXNrKCk7XG5cblxuY29uc3QgcHJvamVjdEJ1dHRvbiA9IHNlbGVjdG9ycygpLmFkZFByb2plY3RCdXR0b247XG5jb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IHNlbGVjdG9ycygpLnByb2plY3RGb3JtQ29udGFpbmVyO1xuY29uc3QgYWRkVGFza0J1dHRvbiA9IHNlbGVjdG9ycygpLmFkZFRhc2tCdXR0b247XG5jb25zdCB0b2RvRm9ybUNvbnRhaW5lciA9IHNlbGVjdG9ycygpLnRvZG9Gb3JtQ29udGFpbmVyO1xuY29uc3QgdG9kb0Zvcm0gPSBzZWxlY3RvcnMoKS50b2RvRm9ybTtcbmNvbnN0IHByb2plY3RGb3JtID0gc2VsZWN0b3JzKCkucHJvamVjdEZvcm07XG5jb25zdCBwcm9qZWN0TGlzdCA9IHNlbGVjdG9ycygpLnByb2plY3RMaXN0O1xuY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IHNlbGVjdG9ycygpLnByb2plY3ROYW1lSW5wdXQ7XG5jb25zdCB0YXNrTGlzdCA9IHNlbGVjdG9ycygpLnRhc2tMaXN0O1xuY29uc3QgbWFpblRpdGxlID0gc2VsZWN0b3JzKCkubWFpblRpdGxlO1xuY29uc3QgY2FuY2VsQnV0dG9uID0gc2VsZWN0b3JzKCkuY2FuY2VsQnV0dG9uO1xuY29uc3QgaW5ib3ggPSBzZWxlY3RvcnMoKS5pbmJveDtcbmNvbnN0IHRvZG9UYXNrSW5wdXQgPSBzZWxlY3RvcnMoKS50b2RvVGFza0lucHV0O1xuXG5leHBvcnQgY29uc3Qgc3RvcmFnZSA9IFtdO1xuZXhwb3J0IGNvbnN0IGFkZFByb2plY3RCdXR0b25FdmVudCA9ICgoKSA9PntcblxuICAgIHByb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSk7ICAgXG59KSgpO1xuXG5leHBvcnQgY29uc3QgYWRkVGFza0J1dHRvbkV2ZW50ID0gKCgpID0+e1xuICAgIGFkZFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgdG9kb0Zvcm1Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSk7XG59KSgpO1xuXG5cbmV4cG9ydCBjb25zdCBpbmJveFN0b3JhZ2UgPSBbXTtcblxuZXhwb3J0IGNvbnN0IHByb2plY3RGb3JtRXZlbnQgPSAoKCkgPT4geyBcblxuICAgIHByb2plY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIHRhc2suY291bnQgPSAwO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lQ29udGFpbmVyJylcbiAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgY29uc3QgdGl0bGVOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lSW5wdXQudmFsdWVcbiAgICAgICAgXG4gICAgICAgIHRpdGxlTmFtZS5pbm5lclRleHQgPSBwcm9qZWN0TmFtZTsgXG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpY29uKTtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHRpdGxlTmFtZSk7XG4gICAgICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7IFxuICAgICAgICBzdG9yYWdlLnB1c2goe3RpdGxlOiBwcm9qZWN0TmFtZX0pO1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgcHJvamVjdE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGlmKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2plY3ROYW1lQ29udGFpbmVyJykpe1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+e1xuICAgICAgICAgICAgICAgIHRhc2sucmVtb3ZlVGFza3MoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGlja2VkUHJvamVjdFRpdGxlID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgIG1haW5UaXRsZS5pbm5lclRleHQgPSBjbGlja2VkUHJvamVjdFRpdGxlO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzdG9yYWdlW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiggZWxlbWVudC50aXRsZSA9PT0gbWFpblRpdGxlLmlubmVyVGV4dCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqZWN0S2V5cy5sZW5ndGg7IGorKykgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbGVtZW50W2B0YXNrJHtqfWBdIT11bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b2RvVGl0bGUnKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5pbm5lclRleHQgPSBlbGVtZW50W2B0YXNrJHtqfWBdOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICBcbn0pKCk7XG5cbmV4cG9ydCBjb25zdCB0YXNrRm9ybUV2ZW50ID0gKCgpID0+IHsgXG4gICAgdG9kb0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCk9PntcbiAgICAgICAgLy8gdGFzay5jcmVhdGVUYXNrKCk7XG4gICAgICAgXG4gICAgfSk7XG5cbn0pKCk7XG5cbmNhbmNlbEJ1dHRvbi5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgcHJvamVjdEZvcm1Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfSlcblxufSk7IFxuXG5cbiBpbmJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PntcbiAgICAgICAgdGFzay5yZW1vdmVUYXNrcygpO1xuICAgICAgIFxuICAgICAgICB0b2RvRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKT0+e1xuICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgZGVmYXVsdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCd0b2RvVGl0bGUnKTtcbiAgICAgICAgY29uc3QgdGFza05hbWUgPSB0b2RvVGFza0lucHV0LnZhbHVlO1xuICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICBcbiAgICAgICAgICAgIGRlZmF1bHRCdXR0b24uaW5uZXJUZXh0ID0gXCJ0b2RvVGFza0lucHV0LnZhbHVlXCI7XG4gICAgICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChkZWZhdWx0QnV0dG9uKTtcbiAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgfSk7XG5cblxuXG5cblxuICAgICAgICBjb25zdCBjbGlja2VkUHJvamVjdFRpdGxlID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuICAgICAgICBtYWluVGl0bGUuaW5uZXJUZXh0ID0gY2xpY2tlZFByb2plY3RUaXRsZTsgXG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyBcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RvZG9UaXRsZScpOyBcbiAgICAgICAgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5ib3hTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5ib3hTdG9yYWdlW2ldO1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7IFxuICAgICAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgndG9kb1RpdGxlJyk7IFxuICAgICAgICAgICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0b3JhZ2U6XCIrIGluYm94U3RvcmFnZSk7XG4gICAgICAgIFxuXG4gICAgfSk7XG5cbmNvbnN0IGV2ZW50ID0gbmV3IEV2ZW50KCdjbGljaycpO1xuaW5ib3guZGlzcGF0Y2hFdmVudChldmVudCk7Il0sIm5hbWVzIjpbInNlbGVjdG9ycyIsImFkZEJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhbmNlbEJ1dHRvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRQcm9qZWN0QnV0dG9uIiwiYWRkVGFza0J1dHRvbiIsInByb2plY3RGb3JtQ29udGFpbmVyIiwidG9kb0Zvcm1Db250YWluZXIiLCJwcm9qZWN0TGlzdCIsInByb2plY3RGb3JtIiwidG9kb0Zvcm0iLCJwcm9qZWN0TmFtZUlucHV0IiwidG9kb1Rhc2tJbnB1dCIsInRhc2tMaXN0IiwiYWxsVGFza0xpc3RzIiwicHJvamVjdE5hbWVDb250YWluZXIiLCJtYWluVGl0bGUiLCJpbmJveCIsImdldEVsZW1lbnRCeUlkIiwidGFzayIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvdW50IiwiY3JlYXRlVGFzayIsImkiLCJzdG9yYWdlIiwibGVuZ3RoIiwiZWxlbWVudCIsImJ1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0YXNrTmFtZSIsInZhbHVlIiwiY29uc29sZSIsImxvZyIsInRpdGxlIiwiaW5uZXJUZXh0IiwiaW5ib3hTdG9yYWdlIiwicHVzaCIsImFwcGVuZENoaWxkIiwicmVtb3ZlIiwicmVtb3ZlVGFza3MiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwcm9qZWN0QnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJpY29uIiwidGl0bGVOYW1lIiwicHJvamVjdE5hbWUiLCJjb250YWlucyIsImNsaWNrZWRQcm9qZWN0VGl0bGUiLCJ0YXJnZXQiLCJvYmplY3RLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImoiLCJ1bmRlZmluZWQiLCJmb3JFYWNoIiwiZGVmYXVsdEJ1dHRvbiIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCJdLCJzb3VyY2VSb290IjoiIn0=