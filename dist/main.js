(()=>{"use strict";const t=()=>({addButton:document.querySelector(".addButton"),cancelButton:document.querySelectorAll(".cancelButton"),addProjectButton:document.querySelector(".addProjectButton"),addTaskButton:document.querySelector(".addTaskButton"),projectFormContainer:document.querySelector(".projectFormContainer"),todoFormContainer:document.querySelector(".todoFormContainer"),projectList:document.querySelector(".projectList"),projectForm:document.querySelector(".projectForm"),todoForm:document.querySelector(".todoForm"),projectNameInput:document.querySelector(".projectNameInput"),todoTaskInput:document.querySelector(".todoTaskInput"),taskList:document.querySelector(".tasks"),allTaskLists:document.querySelector(".todoTitle"),projectNameContainer:document.querySelector(".projectNameContainer"),mainTitle:document.querySelector(".mainTitle"),inbox:document.getElementById("inbox"),dueDate:document.getElementById("date")}),e=t().todoFormContainer,n=t().todoTaskInput,o=t().taskList,c=t().mainTitle,a=t().dueDate,s=new class{constructor(){this.count=0}createTask(){for(let t=0;t<C.length;t++){E.push({});const e=C[t],s=E[t],r=document.createElement("button"),i=document.createElement("input"),d=document.createElement("span");i.type="date",i.classList.add("dateInput");let l=a.value;r.classList.add("todoTitle");const u=n.value;e.title===c.innerText&&(e[`task${this.count}`]=u,s[`task${this.count}`]=u,""===l&&(l="No Due Date"),s[`date${this.count}`]=l,e[`date${this.count}`]=l,r.innerText=e[`task${this.count}`],d.innerText=e[`date${this.count}`],E.push({[`task${this.count}`]:e[`task${this.count}`],[`date${this.count}`]:e[`date${this.count}`]}),r.appendChild(d),o.appendChild(r),console.log(E),this.count++)}e.classList.remove("active"),n.value=""}removeTasks(){for(;o.firstChild;)o.removeChild(o.firstChild)}},r=t().addProjectButton,i=t().projectFormContainer,d=t().addTaskButton,l=t().todoFormContainer,u=t().todoForm,m=t().projectForm,p=t().projectList,T=t().projectNameInput,h=t().taskList,k=t().mainTitle,v=t().cancelButton,L=t().inbox,C=(t().todoTaskInput,[]);C.push({title:"Inbox"}),r.addEventListener("click",(()=>{l.classList.remove("active"),i.classList.add("active")})),d.addEventListener("click",(()=>{i.classList.remove("active"),l.classList.add("active")}));const E=[];m.addEventListener("submit",(t=>{s.count=0;const e=document.createElement("button");e.classList.add("projectNameContainer");const n=document.createElement("i"),o=document.createElement("span"),c=T.value;o.innerText=c,e.appendChild(n),e.appendChild(o),p.appendChild(e),C.push({title:c}),i.classList.remove("active"),T.value="";const a=document.createElement("span");e.classList.contains("projectNameContainer")&&e.addEventListener("click",(t=>{s.removeTasks();const e=t.target.innerText;k.innerText=e;for(let t=0;t<C.length;t++){const e=C[t];if(e.title===k.innerText){const t=Object.keys(e);for(let n=0;n<t.length;n++)if(null!=e[`task${n}`]){const t=document.createElement("button");t.classList.add("todoTitle"),t.innerText=e[`task${n}`],a.innerText=e[`date${n}`],t.appendChild(a),h.appendChild(t)}}}}))})),u.addEventListener("submit",(()=>{s.createTask(),console.log("storage::"+JSON.stringify(C))})),v.forEach((t=>{t.addEventListener("click",(()=>{i.classList.remove("active"),l.classList.remove("active")}))})),L.addEventListener("click",(t=>{s.count=0,s.removeTasks(),k.innerText="inbox";const e=t.target.innerText;k.innerText=e;const n=document.createElement("span");for(let t=1;t<E.length;t++){const e=E[t];console.log("log el: "+e);const o=document.createElement("button");o.innerText=e[`task${s.count}`],n.innerText=e[`date${s.count}`],o.classList.add("todoTitle"),o.appendChild(n),h.appendChild(o)}}));const j=new Event("click");L.dispatchEvent(j)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZXZlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9ICgpID0+IHtcbiAgcmV0dXJuIHtcbiAgICBhZGRCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkQnV0dG9uXCIpLFxuICAgIGNhbmNlbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jYW5jZWxCdXR0b25cIiksXG4gICAgYWRkUHJvamVjdEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRQcm9qZWN0QnV0dG9uXCIpLFxuICAgIGFkZFRhc2tCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza0J1dHRvblwiKSxcbiAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtQ29udGFpbmVyJyksXG4gICAgdG9kb0Zvcm1Db250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvRm9ybUNvbnRhaW5lcicpLFxuICAgIHByb2plY3RMaXN0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdExpc3QnKSxcbiAgICBwcm9qZWN0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RGb3JtJyksXG4gICAgdG9kb0Zvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b2RvRm9ybScpLFxuICAgIHByb2plY3ROYW1lSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0TmFtZUlucHV0JyksXG4gICAgdG9kb1Rhc2tJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRvZG9UYXNrSW5wdXQnKSxcbiAgICB0YXNrTGlzdDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tzJyksXG4gICAgYWxsVGFza0xpc3RzOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudG9kb1RpdGxlJyksXG4gICAgcHJvamVjdE5hbWVDb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0TmFtZUNvbnRhaW5lcicpLFxuICAgIG1haW5UaXRsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW5UaXRsZScpLFxuICAgIGluYm94OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5ib3gnKSxcbiAgICBkdWVEYXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgc2VsZWN0b3JzIH0gZnJvbSBcIi4vRE9NXCI7XG5pbXBvcnQgeyBzdG9yYWdlICwgaW5ib3hTdG9yYWdlfSBmcm9tIFwiLi9ldmVudFwiO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cblxuY29uc3QgdG9kb0Zvcm1Db250YWluZXIgPSBzZWxlY3RvcnMoKS50b2RvRm9ybUNvbnRhaW5lcjtcbmNvbnN0IHRvZG9UYXNrSW5wdXQgPSBzZWxlY3RvcnMoKS50b2RvVGFza0lucHV0O1xuY29uc3QgdGFza0xpc3QgPSBzZWxlY3RvcnMoKS50YXNrTGlzdDtcbmNvbnN0IG1haW5UaXRsZSA9IHNlbGVjdG9ycygpLm1haW5UaXRsZTtcbmNvbnN0IGR1ZURhdGUgPSBzZWxlY3RvcnMoKS5kdWVEYXRlO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gIH1cbiAgXG4gIGNyZWF0ZVRhc2soKSB7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgaW5ib3hTdG9yYWdlLnB1c2goe30pO1xuICAgICAgY29uc3QgZWxlbWVudCA9IHN0b3JhZ2VbaV07XG4gICAgICBjb25zdCBpbmJveEVsZW1lbnQgPSBpbmJveFN0b3JhZ2VbaV07XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGRhdGUudHlwZSA9ICdkYXRlJztcbiAgICAgIGRhdGUuY2xhc3NMaXN0LmFkZCgnZGF0ZUlucHV0JylcbiAgICAgIGxldCBkYXRlVmFsdWUgPSBkdWVEYXRlLnZhbHVlO1xuICAgIFxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3RvZG9UaXRsZScpO1xuICAgICAgY29uc3QgdGFza05hbWUgPSB0b2RvVGFza0lucHV0LnZhbHVlO1xuICAgICAgXG4gICAgICBpZiAoZWxlbWVudC50aXRsZSA9PT0gbWFpblRpdGxlLmlubmVyVGV4dCkge1xuICAgICAgICBlbGVtZW50W2B0YXNrJHt0aGlzLmNvdW50fWBdID0gdGFza05hbWU7XG4gICAgICAgIGluYm94RWxlbWVudFtgdGFzayR7dGhpcy5jb3VudH1gXSA9IHRhc2tOYW1lO1xuICAgICAgIFxuICAgICAgICBpZihkYXRlVmFsdWU9PT0nJyl7XG4gICAgICAgICAgZGF0ZVZhbHVlID0gJ05vIER1ZSBEYXRlJztcbiAgICAgICAgfSBcbiAgICAgICAgaW5ib3hFbGVtZW50W2BkYXRlJHt0aGlzLmNvdW50fWBdID0gZGF0ZVZhbHVlO1xuICAgICAgICBlbGVtZW50W2BkYXRlJHt0aGlzLmNvdW50fWBdID0gZGF0ZVZhbHVlO1xuICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gZWxlbWVudFtgdGFzayR7dGhpcy5jb3VudH1gXTtcbiAgICAgICAgc3Bhbi5pbm5lclRleHQgPSBlbGVtZW50W2BkYXRlJHt0aGlzLmNvdW50fWBdO1xuICAgICAgICBcbiAgICAgICAgaW5ib3hTdG9yYWdlLnB1c2goe1tgdGFzayR7dGhpcy5jb3VudH1gXTplbGVtZW50W2B0YXNrJHt0aGlzLmNvdW50fWBdLFtgZGF0ZSR7dGhpcy5jb3VudH1gXTplbGVtZW50W2BkYXRlJHt0aGlzLmNvdW50fWBdfSk7XG4gICAgICAgIC8vIGluYm94U3RvcmFnZVtpXXB1c2goe3Rhc2tzOmVsZW1lbnRbYHRhc2ske3RoaXMuY291bnR9YF0sZGF0ZTplbGVtZW50W2BkYXRlJHt0aGlzLmNvdW50fWBdfSk7IFxuICAgICAgICAvLyBpbmJveEVsZW1lbnRbYHRhc2ske3RoaXMuY291bnR9YF07XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZWxlbWVudCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGluYm94U3RvcmFnZSk7XG4gICAgICAgXG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICB9XG4gICAgfVxuICAgIHRvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHRvZG9UYXNrSW5wdXQudmFsdWUgPSAnJztcbiAgfTtcblxuICByZW1vdmVUYXNrcygpIHtcbiAgICB3aGlsZSAodGFza0xpc3QuZmlyc3RDaGlsZCkge1xuICAgICAgdGFza0xpc3QucmVtb3ZlQ2hpbGQodGFza0xpc3QuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBzZWxlY3RvcnMgfSBmcm9tIFwiLi9ET01cIjtcbmltcG9ydCBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuXG5jb25zdCB0YXNrID0gbmV3IFRhc2soKTtcblxuXG5cbmNvbnN0IHByb2plY3RCdXR0b24gPSBzZWxlY3RvcnMoKS5hZGRQcm9qZWN0QnV0dG9uO1xuY29uc3QgcHJvamVjdEZvcm1Db250YWluZXIgPSBzZWxlY3RvcnMoKS5wcm9qZWN0Rm9ybUNvbnRhaW5lcjtcbmNvbnN0IGFkZFRhc2tCdXR0b24gPSBzZWxlY3RvcnMoKS5hZGRUYXNrQnV0dG9uO1xuY29uc3QgdG9kb0Zvcm1Db250YWluZXIgPSBzZWxlY3RvcnMoKS50b2RvRm9ybUNvbnRhaW5lcjtcbmNvbnN0IHRvZG9Gb3JtID0gc2VsZWN0b3JzKCkudG9kb0Zvcm07XG5jb25zdCBwcm9qZWN0Rm9ybSA9IHNlbGVjdG9ycygpLnByb2plY3RGb3JtO1xuY29uc3QgcHJvamVjdExpc3QgPSBzZWxlY3RvcnMoKS5wcm9qZWN0TGlzdDtcbmNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBzZWxlY3RvcnMoKS5wcm9qZWN0TmFtZUlucHV0O1xuY29uc3QgdGFza0xpc3QgPSBzZWxlY3RvcnMoKS50YXNrTGlzdDtcbmNvbnN0IG1haW5UaXRsZSA9IHNlbGVjdG9ycygpLm1haW5UaXRsZTtcbmNvbnN0IGNhbmNlbEJ1dHRvbiA9IHNlbGVjdG9ycygpLmNhbmNlbEJ1dHRvbjtcbmNvbnN0IGluYm94ID0gc2VsZWN0b3JzKCkuaW5ib3g7XG5jb25zdCB0b2RvVGFza0lucHV0ID0gc2VsZWN0b3JzKCkudG9kb1Rhc2tJbnB1dDtcblxuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSBbXTtcbnN0b3JhZ2UucHVzaCh7dGl0bGU6XCJJbmJveFwifSk7XG5leHBvcnQgY29uc3QgYWRkUHJvamVjdEJ1dHRvbkV2ZW50ID0gKCgpID0+e1xuXG4gICAgcHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIHRvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTsgICBcbn0pKCk7XG5cbmV4cG9ydCBjb25zdCBhZGRUYXNrQnV0dG9uRXZlbnQgPSAoKCkgPT57XG4gICAgYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgIHByb2plY3RGb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0b2RvRm9ybUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9KTtcbn0pKCk7XG5cblxuXG5cbmV4cG9ydCBjb25zdCBpbmJveFN0b3JhZ2UgPSBbXTtcblxuZXhwb3J0IGNvbnN0IHByb2plY3RGb3JtRXZlbnQgPSAoKCkgPT4geyBcblxuICAgIHByb2plY3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XG4gICAgICAgIHRhc2suY291bnQgPSAwO1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3ROYW1lQ29udGFpbmVyJylcbiAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgY29uc3QgdGl0bGVOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lSW5wdXQudmFsdWVcbiAgICAgICAgXG4gICAgICAgIHRpdGxlTmFtZS5pbm5lclRleHQgPSBwcm9qZWN0TmFtZTsgXG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpY29uKTtcbiAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHRpdGxlTmFtZSk7XG4gICAgICAgIHByb2plY3RMaXN0LmFwcGVuZENoaWxkKGJ1dHRvbik7IFxuICAgICAgICBzdG9yYWdlLnB1c2goe3RpdGxlOiBwcm9qZWN0TmFtZX0pO1xuICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgcHJvamVjdE5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBpZihidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9qZWN0TmFtZUNvbnRhaW5lcicpKXtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PntcbiAgICAgICAgICAgICAgICB0YXNrLnJlbW92ZVRhc2tzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xpY2tlZFByb2plY3RUaXRsZSA9IGUudGFyZ2V0LmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICBtYWluVGl0bGUuaW5uZXJUZXh0ID0gY2xpY2tlZFByb2plY3RUaXRsZTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc3RvcmFnZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGVsZW1lbnQudGl0bGUgPT09IG1haW5UaXRsZS5pbm5lclRleHQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9iamVjdEtleXMubGVuZ3RoOyBqKyspIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudFtgdGFzayR7an1gXSE9dW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgndG9kb1RpdGxlJyk7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uaW5uZXJUZXh0ID0gZWxlbWVudFtgdGFzayR7an1gXTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uaW5uZXJUZXh0ID0gZWxlbWVudFtgZGF0ZSR7an1gXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrTGlzdC5hcHBlbmRDaGlsZChidXR0b24pOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICBcbn0pKCk7XG5cbmV4cG9ydCBjb25zdCB0YXNrRm9ybUV2ZW50ID0gKCgpID0+IHsgXG4gICAgdG9kb0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKCk9PntcbiAgICAgICAgIHRhc2suY3JlYXRlVGFzaygpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0b3JhZ2U6OicrIEpTT04uc3RyaW5naWZ5KHN0b3JhZ2UpKTtcbiAgICB9KTtcblxufSkoKTtcblxuY2FuY2VsQnV0dG9uLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICAgICAgICBwcm9qZWN0Rm9ybUNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIHRvZG9Gb3JtQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB9KVxuXG59KTsgXG5cblxuIGluYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+e1xuICAgIHRhc2suY291bnQgPSAwO1xuICAgICAgICB0YXNrLnJlbW92ZVRhc2tzKCk7XG4gICAgICAgIG1haW5UaXRsZS5pbm5lclRleHQgPSAnaW5ib3gnO1xuICAgICAgICBjb25zdCBjbGlja2VkUHJvamVjdFRpdGxlID0gZS50YXJnZXQuaW5uZXJUZXh0O1xuICAgICAgICBtYWluVGl0bGUuaW5uZXJUZXh0ID0gY2xpY2tlZFByb2plY3RUaXRsZTsgXG4gICAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgaW5ib3hTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5ib3hTdG9yYWdlW2ldO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2cgZWw6IFwiKyBlbGVtZW50KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7IFxuICAgICAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGVsZW1lbnRbYHRhc2ske3Rhc2suY291bnR9YF07XG4gICAgICAgICAgICBzcGFuLmlubmVyVGV4dCA9IGVsZW1lbnRbYGRhdGUke3Rhc2suY291bnR9YF07XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgndG9kb1RpdGxlJyk7IFxuICAgICAgICAgICAgYnV0dG9uLmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgdGFza0xpc3QuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0pO1xuXG5jb25zdCBldmVudCA9IG5ldyBFdmVudCgnY2xpY2snKTtcbmluYm94LmRpc3BhdGNoRXZlbnQoZXZlbnQpOyJdLCJuYW1lcyI6WyJzZWxlY3RvcnMiLCJhZGRCdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYW5jZWxCdXR0b24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkUHJvamVjdEJ1dHRvbiIsImFkZFRhc2tCdXR0b24iLCJwcm9qZWN0Rm9ybUNvbnRhaW5lciIsInRvZG9Gb3JtQ29udGFpbmVyIiwicHJvamVjdExpc3QiLCJwcm9qZWN0Rm9ybSIsInRvZG9Gb3JtIiwicHJvamVjdE5hbWVJbnB1dCIsInRvZG9UYXNrSW5wdXQiLCJ0YXNrTGlzdCIsImFsbFRhc2tMaXN0cyIsInByb2plY3ROYW1lQ29udGFpbmVyIiwibWFpblRpdGxlIiwiaW5ib3giLCJnZXRFbGVtZW50QnlJZCIsImR1ZURhdGUiLCJ0YXNrIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY291bnQiLCJjcmVhdGVUYXNrIiwiaSIsInN0b3JhZ2UiLCJsZW5ndGgiLCJpbmJveFN0b3JhZ2UiLCJwdXNoIiwiZWxlbWVudCIsImluYm94RWxlbWVudCIsImJ1dHRvbiIsImNyZWF0ZUVsZW1lbnQiLCJkYXRlIiwic3BhbiIsInR5cGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRlVmFsdWUiLCJ2YWx1ZSIsInRhc2tOYW1lIiwidGl0bGUiLCJpbm5lclRleHQiLCJhcHBlbmRDaGlsZCIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmUiLCJyZW1vdmVUYXNrcyIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInByb2plY3RCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImljb24iLCJ0aXRsZU5hbWUiLCJwcm9qZWN0TmFtZSIsImNvbnRhaW5zIiwiY2xpY2tlZFByb2plY3RUaXRsZSIsInRhcmdldCIsIm9iamVjdEtleXMiLCJPYmplY3QiLCJrZXlzIiwiaiIsInVuZGVmaW5lZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmb3JFYWNoIiwiRXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==